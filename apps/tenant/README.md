# テナント向け管理アプリ

テナントオーナー・マネージャー向けのアプリケーションです。店舗設定、メニュー管理、売上分析、スタッフ管理を行います。

## 機能概要

複数店舗を運営するテナント（飲食店チェーンなど）向けの管理機能を提供します。

## 技術スタック

- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **Authentication**: JWT (localstorage)
- **Real-time Updates**: Polling (30秒間隔)

## セットアップ

### 開発サーバー起動

```bash
# テナントアプリのみ起動
pnpm -F tenant dev

# または全アプリ起動
pnpm dev
```

アプリは http://localhost:3002 で起動します。

## ✅ 完了済み（基本機能）

### 認証
- [x] ログイン (`/login`)
- [x] JWT認証
- [x] セッション管理
- [x] ロール別権限管理（owner/manager/staff/kitchen_staff/cashier）

### ダッシュボード (`/dashboard`)
- [x] 今日の売上・注文数表示
- [x] アクティブな注文一覧
- [x] 人気メニューTop5
- [x] 30秒自動更新

### メニュー管理 (`/menu`)
- [x] メニューのCRUD
- [x] カテゴリ管理
- [x] 価格設定
- [x] 有効/無効切替
- [x] 一覧表示・検索

### 売上レポート (`/reports`)
- [x] 日次売上分析
- [x] 月次売上分析
- [x] メニュー別売上分析
- [x] グラフ表示

### 店舗管理 (`/stores`)
- [x] 店舗のCRUD
- [x] 店舗情報管理（名前・住所・電話番号）
- [x] 有効/無効切替
- [x] 一覧表示

### ユーザー管理 (`/users`) - **owner専用**
- [x] ユーザーのCRUD
- [x] ロール管理
- [x] パスワードリセット
- [x] 一覧表示・検索

### テーブル管理 (`/tables`)
- [x] テーブルのCRUD
- [x] 店舗別テーブル管理
- [x] テーブル番号・収容人数設定
- [x] QRコード表示
- [x] 一覧表示

### タグ管理 (`/tags`)
- [x] タグのCRUD
- [x] タグ色設定
- [x] ユーザーへのタグ付け
- [x] 一覧表示

### アクティビティログ・監査ログ
- [x] アクティビティログ閲覧 (`/logs`)
- [x] 自テナント配下の全ログ閲覧
- [x] 統計サマリー表示（総ログ数・今日・今週・今月）
- [x] フィルター（店舗ID・アクションタイプ・日付範囲）
- [x] ページネーション（50件/ページ）
- [x] ログ詳細表示（metadata含む）
- [x] スタッフ・店舗の操作履歴追跡
- [x] 顧客行動分析（閲覧ログ）

## 今後の実装予定（拡張機能）

### 🚀 優先度：高

#### 1. 店舗設定機能
- [ ] 店舗ごとの詳細設定画面
- [ ] 配膳中ステータスの有効/無効
- [ ] 営業時間設定
- [ ] テーブル数設定
- [ ] 税率設定

#### 2. テーブル管理
- [ ] テーブル番号管理
- [ ] テーブルマップ表示
- [ ] QRコード生成・印刷

---

### 🎨 優先度：中

#### 3. 在庫管理
- [ ] 在庫状況確認
- [ ] 発注管理
- [ ] 在庫アラート設定

#### 4. 顧客管理
- [ ] 顧客情報管理
- [ ] 来店履歴表示
- [ ] ポイント管理

#### 5. 予約管理
- [ ] 予約一覧表示
- [ ] 予約受付
- [ ] 席割り当て
- [ ] 予約確認メール送信

---

### 📊 優先度：低

#### 6. クーポン管理
- [ ] クーポン作成
- [ ] クーポン配布
- [ ] 利用状況確認

#### 7. スタッフシフト管理
- [ ] シフト作成・編集
- [ ] シフト確認
- [ ] 勤怠管理

## ライセンス

このプロジェクトは開発中です。
